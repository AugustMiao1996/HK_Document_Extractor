# 案件选择式知识图谱系统使用说明

## 🎯 **系统概述**

这是一个**两步式**的知识图谱浏览系统：
1. **第一步**：从案件列表中选择要分析的案件
2. **第二步**：查看该案件的专属知识图谱

## 🚀 **快速启动**

### 启动命令
```bash
cd HK_Document_Extractor
python start_case_selection_graph.py
```

### 访问地址
```
http://127.0.0.1:8051
```

## 📱 **界面功能详解**

### 标签页 1：案件选择

#### 🔍 **搜索功能**
- **搜索框**：输入关键词搜索案件
- **搜索范围**：案件号、当事人、法官、案件类型
- **实时筛选**：输入后点击"搜索"按钮

#### 📊 **案件表格**
| 列名 | 说明 | 示例 |
|------|------|------|
| 案件号 | 完整的法院案件编号 | ACTION NO. 751 OF 2022 |
| 文件名 | PDF文件名称 | HCA000751_2022 |
| 审理日期 | 案件审理/判决日期 | 11 April 2025 |
| 案件类型 | LLM分析的案件分类 | Commercial Dispute |
| 判决结果 | 原告胜败情况 | Win/Lose |
| 语言 | 文档语言 | english/chinese |

#### ✅ **选择操作**
1. **单击行选择**：点击表格任意一行进行选择
2. **按钮激活**：选择后"进入案件知识图谱"按钮变为可点击
3. **进入图谱**：点击按钮跳转到知识图谱页面

### 标签页 2：知识图谱

#### 📋 **案件信息栏**
- 显示当前选中案件的基本信息
- 包含：案件号、案件类型、判决结果、审理日期

#### 🎛️ **控制面板（左侧）**

##### 📐 布局算法
- **力导向布局** (cose)：节点相互吸引排斥，适合查看整体结构
- **分层布局** (dagre)：层次化显示，适合查看关系层级
- **圆形布局** (circle)：环形排列，简洁美观
- **网格布局** (grid)：规整排列，便于对比

##### 🔗 关系筛选
可选择显示的关系类型：
- **起诉关系**：原告起诉被告
- **代理关系**：律师代理当事人
- **审理关系**：法官审理案件
- **法院关系**：案件在法院审理
- **雇佣关系**：律师所属律师事务所
- **涉及关系**：案件涉及的当事人

##### 🔙 返回按钮
点击"返回案件选择"可回到案件列表

#### 🎨 **知识图谱区域（右侧）**

##### 节点类型与颜色
| 节点类型 | 颜色 | 大小 | 说明 |
|---------|------|------|------|
| 📋 案件 | 蓝色 | 60px | 中心节点，最大最显眼 |
| 👨‍💼 原告 | 绿色 | 50px | 起诉方 |
| 👨‍⚖️ 被告 | 红色 | 50px | 被起诉方 |
| ⚖️ 法官 | 紫色 | 45px | 审理法官 |
| 🏛️ 法院 | 灰色 | 45px | 审理法院 |
| 👨‍💻 律师 | 橙色 | 40px | 代理律师 |
| 🏢 律师事务所 | 粉色 | 40px | 法律服务机构 |

##### 交互操作
- **点击节点**：查看详细信息
- **拖拽节点**：调整图谱布局
- **缩放**：鼠标滚轮或触控板缩放
- **平移**：拖拽空白区域移动视图

#### 📝 **节点详情面板（底部）**
点击任意节点后显示：
- **案件节点**：案件号、类型、判决结果、金额信息
- **其他节点**：姓名、角色、相关信息

## 🎯 **使用流程示例**

### 典型使用场景

#### 1. 🔍 搜索特定案件
```
搜索框输入 → "Trust Dispute" → 搜索 → 筛选出信托纠纷案件
```

#### 2. 📊 分析案件关系
```
选择案件 → 进入图谱 → 调整为"分层布局" → 观察审理层级关系
```

#### 3. 👨‍💻 研究律师代理
```
选择案件 → 进入图谱 → 勾选"代理关系" → 查看律师代理情况
```

#### 4. 🏛️ 查看法院信息
```
选择案件 → 进入图谱 → 点击法院节点 → 查看法院详情
```

## 🌟 **高级功能**

### 🔍 **智能搜索技巧**
- **案件类型搜索**：输入 "Commercial" 查找商业纠纷
- **当事人搜索**：输入人名或公司名
- **法官搜索**：输入法官姓名
- **复合搜索**：多个关键词空格分隔

### 🎨 **可视化技巧**
- **关系分析**：取消勾选某些关系类型，简化图谱
- **布局对比**：切换不同布局观察不同角度
- **细节查看**：点击节点获取详细信息

### 📊 **分析应用**
- **律师专业度**：观察律师代理的案件类型
- **法官专长**：查看法官审理的案件分布
- **案件复杂度**：通过节点数量判断案件复杂程度

## 🛠️ **技术特性**

### 📈 **性能优化**
- **数据缓存**：案件数据本地缓存，快速加载
- **按需渲染**：仅渲染当前选中案件，节省资源
- **关系筛选**：动态过滤关系，减少视觉复杂度

### 🔧 **兼容性**
- **浏览器**：Chrome、Firefox、Safari、Edge
- **响应式**：自适应不同屏幕尺寸
- **操作系统**：Windows、macOS、Linux

### 🚀 **扩展性**
- **数据源**：支持更新JSON数据文件
- **节点类型**：可添加新的实体类型
- **关系类型**：可扩展新的关系定义

## 📞 **支持与帮助**

### 🔄 **重启系统**
如果系统出现问题：
```bash
# 停止当前系统（Ctrl+C）
# 重新启动
python start_case_selection_graph.py
```

### 🐛 **常见问题**

#### Q: 页面加载缓慢？
A: 检查网络连接，清除浏览器缓存

#### Q: 图谱显示不完整？
A: 尝试切换布局算法，或调整关系筛选

#### Q: 搜索没有结果？
A: 检查搜索关键词拼写，尝试更通用的关键词

#### Q: 节点详情显示为空？
A: 点击其他节点再重新点击，或刷新页面

### 📊 **数据来源**
- 基于LLM分析结果：`output/llm_analysis_20250603_110724.json`
- 包含165个香港法院案件
- 数据字段：案件号、当事人、律师、判决结果等

### 🎯 **使用建议**
1. **首次使用**：建议从简单案件开始，熟悉界面操作
2. **深入分析**：结合多种布局和筛选功能
3. **定期更新**：关注数据文件更新，获取最新案件信息

---

**版本**: v1.0 - 案件选择式知识图谱  
**更新日期**: 2025-01-09  
**开发者**: AI Assistant 